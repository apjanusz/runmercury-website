import { Screenshot } from "components/screenshot";
import { Callout } from 'nextra-theme-docs'
import codePng from "../../public/images/secrets-management/example-code.png";
import entersecretsPng from "../../public/images/secrets-management/enter-secrets.png";
import addsecretPng from "../../public/images/secrets-management/add-secret.png";
import confirmPng from "../../public/images/secrets-management/confirm-secret.png";
import secretsPng from "../../public/images/secrets-management/secrets.png";
import resultsPng from "../../public/images/secrets-management/results-secrets.png";
import antyresultsPng from "../../public/images/secrets-management/antyresults-secrets.png";
import variablescodePng from "../../public/images/secrets-management/secret-variables.png";

# Secrets Management

## Introduction

Sometimes you need to use credentials or api keys in your notebook. Best way to store them locally is creating *.env* file. But when you want to upload your notebook - using **Secrets Management** offered by **Mercury Cloud** is a good practice.

<Callout type="info">
  If you don't have your site yet, check [this article](/docs/cloud) and create it.
</Callout>

## 1. Creating Notebook

This is example notebook:

<Screenshot src={codePng} alt="Example code" />

*code to copy:*

```
import os 
from dotenv import load_dotenv
import mercury as mr 
```

```
_ = load_dotenv()
```

```
name = os.environ.get("DB_USERNAME")
password = os.environ.get("DB_PASSWORD")
```

```
if name is not None and password is not None:
    print("credentials loaded successfully)
esle:
    print("credentials didn't loaded successfully)
```

## 2. Add secrets

First of all, you have to upload your notebook. Then you have to click `Secrets` which is placed on the headline.

<Screenshot src={entersecretsPng} alt="Open Secrets widget" />

After that choose site where you uploaded your notebook and click `+ Add Secret` button. 

<Screenshot src={addsecretPng} alt="Add secrets" />

Type your secret's name in first window and the value of it in the second. When everything is ready click `OK` button to confirm.

<Screenshot src={confirmPng} alt="Confirm your secret" />

Following this pattern you can add as many secrets as you need. 

<Screenshot src={secretsPng} alt="Secrets' list" />

## 3. Access secrets in the notebook

Secret variable are available in  **os.environ**.

<Screenshot src={variablescodePng} alt="Code with variables" />

#### With secrets

<Screenshot src={resultsPng} alt="Access secrets in notebook" />

